# Arc - Anonymous Relay Chat

**Arc** (**A**nonymous **R**elay **C**hat / **åŒ¿**å **ä¸­**ç»§ **èŠ**å¤©) æ˜¯æ–°å‹çš„**é›¶ä¿¡ä»»**ã€**æ¸è¿›å¼**é€šè®¯åº”ç”¨.ä¸ºæ‚¨æä¾›çš„åŒ¿åçš„ã€ä¸”å®‰å…¨çš„åœ¨èŠå¤©æœåŠ¡, ç®€æ´ä¸”é«˜æ€§èƒ½ã€‚

### åˆè¡·
- æµè¡Œçš„å³æ—¶é€šè®¯è½¯ä»¶, è™½ç„¶åŠŸèƒ½å¼ºå¤§, ä½†åœ¨ç”¨æˆ·éšç§, æŠ—å®¡æŸ¥æ€§ä¸Šåšçš„ä¸å°½äººæ„. å…¨çƒE2EEçš„ç”¨æˆ·çº¦30äº¿,  è¿™æ˜¯ä¸€ä¸ªè¶‹åŠ¿.
- æä¾›ä¸€æ¬¾å¼€æºçš„ç«¯åˆ°ç«¯åŠ å¯†çš„, ç®€å•å¿«æ·, å¯ä»¥è‡ªä¸»éƒ¨ç½²çš„åŒ¿åèŠå¤©æœåŠ¡.

### ç®€ä»‹
- åŸºäºRustå’ŒSolidjsæ„å»º, åªæä¾›Webç‰ˆ, ç§»åŠ¨ç«¯çš„æµè§ˆå™¨ä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨;
- æ¸è¿›å¼çš„Chat, æ™®é€šçš„ç¾¤ç»„ -> åŠ å¯†çš„ç¾¤ç»„ -> ç«¯åˆ°ç«¯çš„ç§äººèŠå¤©, å®‰å…¨æ€§é€çº§å¢å¼º;
- æ”¯æŒæ–‡æœ¬, å›¾ç‰‡, è¯­éŸ³ä¸‰ç§æ¶ˆæ¯;
- å¼€å¯peer_mode é…ç½®å, å°†åŠ å…¥ä¸€ä¸ªè™šæ‹Ÿçš„Relay Network, ç”¨æˆ·å¯ä»¥å‘ç°å’Œåœ¨ä¸åŒpeeré—´æ¼«æ¸¸;
- æ”¯æŒslash(/) command, é™ä½ç”¨æˆ·çš„å­¦ä¹ æˆæœ¬, æä¾›ç®€æ´çš„ç”¨æˆ·ä½“éªŒ.
- ä¸€é”®å¼è‡ªä¸»éƒ¨ç½², å¯åŠ¨å†…å­˜å°äº10M.

### è®¾è®¡
- åŒ¿åæ€§
  + åœ¨å®¢æˆ·ç«¯ç”Ÿæˆä¸€å¯¹åŸºäºed25519çš„å¯†é’¥å¯¹, å…¶public keyä½œä¸ºç”¨æˆ·çš„æ ‡è¯†, ç§°ä½œKID; Private Keyä¿å­˜åœ¨å®¢æˆ·ç«¯çš„IndexedDBæ•°æ®åº“ä¸­;
  + ä¸ºç”¨æˆ·ç”Ÿæˆä¸€ä¸ªéšæœºçš„nick_name, å¯éšæ—¶ä¿®æ”¹,ä¸è¦æ±‚å”¯ä¸€.
  + ä»¥ä¸Šè®¾è®¡, ç”¨æˆ·å°†ä¸éœ€è¦æ³¨å†Œ, ç™»é™†ç­‰ä¼ ç»Ÿçš„æ­¥éª¤, è‡ªç„¶ä¹Ÿæ— éœ€è®°ä½ç”¨æˆ·å/å¯†ç . åŒæ—¶, ä¸ä¼šæ³„æ¼ä¸ªäººçš„èº«ä»½ä¿¡æ¯å¦‚é‚®ç®±,æ‰‹æœºç­‰;
  + æœåŠ¡å™¨ä¸ä¿å­˜ä»»ä½•ä¸ç”¨æˆ·èº«ä»½æœ‰å…³çš„æ•°æ®;
- å®‰å…¨æ€§
  + ç¾¤ç»„åŠç§èŠçš„æ–‡æœ¬, å›¾ç‰‡, è¯­éŸ³æ¶ˆæ¯å‡é‡‡ç”¨æµè¡Œä¸”é«˜æ•ˆçš„XChacha20-poly1305ç®—æ³•åŠ å¯†, è¯¥ç®—æ³•æ˜¯å¼€æºçš„,é‡‡ç”¨çš„åº“æ¥è‡ª[RustCrypto](https://github.com/RustCrypto)
  + æ¯æ¡æ¶ˆæ¯é‡‡ç”¨éšæœºçš„nonce;
  + åŠ å¯†ç¾¤ç»„(encrypted-group)å’Œç§èŠ(priv-chats) å‡å®ç°End-to-End Encryption; æœåŠ¡å™¨ç«¯æ— æ³•è·å–èŠå¤©å®¤çš„å¯¹ç§°åŠ å¯†å¯†é’¥.
  + åŠ å¯†ç¾¤ç»„æ ¹æ®Room Salt, RoomIDåŠPassCodeç”Ÿæˆå¯¹ç§°åŠ å¯†çš„å¯†é’¥.
  + ç§èŠåŒæ–¹åˆ©ç”¨ECDHå®ç°å¯†é’¥åå•†, å…·ä½“å®ç°æ¥è‡ª[dalek-cryptography](https://github.com/dalek-cryptography))çš„x25519ç®—æ³•;
  + ç§èŠåŒæ–¹åœ¨äº¤æ¢ECDHçš„å…¬é’¥æ—¶, ä½¿ç”¨ECDSAå¯¹äº¤æ¢ä¿¡æ¯è¿›è¡Œæ•°å­—ç­¾å, é¿å…ä¸­é—´äººæ”»å‡», å…·ä½“åº“ç”¨çš„åŒæ ·æ˜¯dalek_cryptographçš„ed25519ç®—æ³•;
  + ç§èŠçš„å…¨éƒ¨æ¶ˆæ¯å‡ä¿å­˜åœ¨æœ¬åœ°æµè§ˆå™¨æ•°æ®åº“ä¸­.
  + å®¢æˆ·ç«¯é‡‡ç”¨çš„å…³é”®å®‰å…¨æ“ä½œ,å°è£…åœ¨WebAssemblyä¸­(åŒæ ·å¼€æº), ä»¥å¢å¼ºå®‰å…¨æ€§å’Œæ€§èƒ½;
  + æ”¯æŒåº”ç”¨é”å±, å¯è®¾ç½®ä¸€ä¸ªPIN, åŠ å¼ºå®¢æˆ·ç«¯éšç§ä¿æŠ¤;
- å…¶ä»–
  + æœåŠ¡ç«¯é‡‡ç”¨Rustå®ç°, é‡‡ç”¨çš„channelç­‰æ— é”é€šä¿¡æŠ€æœ¯, åŒæ—¶, ä½¿ç”¨é«˜æ€§èƒ½çš„concurrentåº“, å¦‚Dashmapç­‰;
  + å®¢æˆ·ç«¯ä½¿ç”¨solidjs  + WebAssembly(Crypto);
  + é€šè®¯åè®®ä¸ºWebSocket,ä¼ è¾“æ ¼å¼ä¸ºäºŒè¿›åˆ¶æ•°æ®(Binary), ä½¿ç”¨MessagePackä¸ºåºåˆ—åŒ–åè®®.
  + èŠ‚ç‚¹å‘ç°ä½¿ç”¨DHT, å…·ä½“ä¸ºMainline DHT.
  
  
## å¼€æºåè®®
æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](LICENSE) å¼€æºåè®®ï¼Œå…è®¸è‡ªç”±ä½¿ç”¨ã€ä¿®æ”¹å’Œåˆ†å‘ã€‚

## âš ï¸ å…è´£å£°æ˜

- æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œåˆæ³•ç”¨é€”ä½¿ç”¨.
- ç”¨æˆ·éœ€éµå®ˆå½“åœ°æ³•å¾‹æ³•è§„, è¯·å‹¿å°†æœ¬é¡¹ç›®æä¾›çš„è½¯ä»¶ç”¨äºè¿æ³•å½“åœ°æ³•å¾‹çš„æ´»åŠ¨ä¸­.
- å¼€å‘è€…ä¸æ‰¿æ‹…ä»»ä½•ä½¿ç”¨é£é™©å’Œæ³•å¾‹è´£ä»».
- æœ¬é¡¹ç›®å°šæœªæ¥å—å¤–éƒ¨å®‰å…¨å®¡æŸ¥ï¼Œå¯èƒ½åŒ…å«æ¼æ´ã€‚è¯·å‹¿ç”¨äºæ•æ„Ÿç”¨ä¾‹ï¼Œå¹¶ä¸”åœ¨å®¡æŸ¥ä¹‹å‰è¯·å‹¿ä¾èµ–å…¶å®‰å…¨æ€§.
- å¼ºçƒˆå»ºè®®åœ¨é‡è¦é€šä¿¡å‰è¿›è¡Œå®‰å…¨å®¡è®¡.

### __Contributing__
- æ¬¢è¿æäº¤PR, æ¬¢è¿åŒé“è€…åŠ å…¥å…±å»º!
- mail: kira.x@tuta.io
>  ğŸ¤ **å¸®åŠ©æˆ‘ä»¬æ„å»ºç§äººé€šä¿¡çš„æœªæ¥ï¼** æ¯ä¸€ä»½è´¡çŒ®éƒ½å¾ˆé‡è¦ã€‚

### __FAQ__

- ä¸­ç»§RelayèŠ‚ç‚¹ä¼šè½¬å‘æ¶ˆæ¯å—?
  ä¸ä¼š, ç”±äºèŠ‚ç‚¹çš„ä¸ç¨³å®šæ€§, ç”¨æˆ·åªèƒ½åœ¨åŒä¸€èŠ‚ç‚¹ä¸‹èŠå¤©; å¦‚éœ€è·¨åŒº, éœ€è¦ä¸€æ–¹å…ˆæ¼«æ¸¸(roaming)åˆ°å¦ä¸€æ–¹æ‰€åœ¨èŠ‚ç‚¹;
- å¦‚ä½•å¼€å¯ç§äººèŠå¤©?
  ç›®å‰éœ€è¦åœ¨ç¾¤èŠä¸­, è¾“å…¥: /invite å‘½ä»¤å¼€å¯, å¯¹æ–¹ä¼šç«‹åˆ»æ”¶åˆ°é€šçŸ¥, åŒæ„åå³å¯å¼€å¯ç§èŠ;
- ç§èŠæ˜¯æ‚„æ‚„è¯å—?
  æ‚„æ‚„è¯(wisper)æ˜¯åœ¨ç¾¤èŠä¸­, æŒ‡å®šå‘é€ç»™æŸäºº, æ¶ˆæ¯èµ°ç¾¤çš„é€šé“, ä¸æ˜¯ç§èŠ(private-chat).
- ä¸ºä»€ä¹ˆæ˜¾ç¤ºâ€˜Media Service Not Supportedâ€™?
  è¯­éŸ³æ¶ˆæ¯éœ€è¦åœ¨httpsç¯å¢ƒä¸‹æˆ–localhost, æ‰å¯ç”¨, æ™®é€šhttpæµè§ˆå™¨ä¸æ”¯æŒ.
- å¦‚ä½•å¿«é€ŸæŠ¹é™¤å®¢æˆ·ç«¯æ•°æ®?
  åœ¨settingé¡µé¢ä¸­, å¯ä»¥ç§»é™¤æ‰€æœ‰ç§èŠçš„ä¿¡æ¯å’Œç¾¤èŠå…ƒæ•°æ®.

## âš¡ é—ªç”µéƒ¨ç½²

> ğŸ† **2 åˆ†é’Ÿå†…å¼€å§‹ä½¿ç”¨ï¼** Arc ä¸“ä¸ºå³æ—¶éƒ¨ç½²è€Œè®¾è®¡ï¼Œé›¶éº»çƒ¦ã€‚

### ğŸ’» ç³»ç»Ÿè¦æ±‚
- **Rust**: 1.70+ ï¼ˆç”¨äºä»æºç æ„å»ºï¼‰
- **æ“ä½œç³»ç»Ÿ**: Windowsã€macOSã€Linux æˆ–ä»»ä½•ç°ä»£æ“ä½œç³»ç»Ÿ
- **å†…å­˜**: æœ€å°‘ 50MBï¼ˆæå…¶è½»é‡ï¼ï¼‰
- **å­˜å‚¨**: åº”ç”¨ç¨‹åºçº¦ 10MB

### ğŸ“¬ å¿«é€Ÿå®‰è£…

#### é€‰é¡¹ 1: ä¸€é”®éƒ¨ç½² (æ¨è)
```bash
# å…‹éš†å¹¶è¿è¡Œ
git clone https://github.com/x-ira/arc-chat.git && cd arc
cargo run --release

ğŸ‰ æ‰“å¼€ http://localhost:1930 å¼€å§‹èŠå¤©ï¼
```

#### é€‰é¡¹ 2: ç”Ÿäº§æ„å»º
```bash
# 1. å…‹éš†ä»“åº“
git clone https://github.com/x-ira/arc-chat.git
cd arc

# 2. æ„å»ºä¼˜åŒ–ç‰ˆæœ¬
cargo build --release

# 3. å¯åŠ¨ Arc
./target/release/arc

ğŸŒ åœ¨ http://localhost:1930 è®¿é—®æ‚¨çš„å®‰å…¨èŠå¤©
```

### ğŸŒ é¦–æ¬¡ä½¿ç”¨
1. **ğŸš€ å¯åŠ¨**: è¿è¡Œä¸Šè¿°å‘½ä»¤å¯åŠ¨æ‚¨çš„ä¸­ç»§èŠ‚ç‚¹
2. **ğŸŒ è¿æ¥**: åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ `http://localhost:1930`
3. **ğŸ“§ åˆ›å»ºèº«ä»½**: æ‚¨çš„åŒ¿åå¯†ç å­¦èº«ä»½è‡ªåŠ¨ç”Ÿæˆ
4. **ğŸ”„ åŠ å…¥ç½‘ç»œ**: æ‚¨çš„èŠ‚ç‚¹è‡ªåŠ¨åŠ å…¥å…¨çƒä¸­ç»§ç½‘ç»œ
5. **ğŸ’¬ å¼€å§‹èŠå¤©**: ç«‹å³é€šè¿‡åŠ å¯†ä¸­ç»§é“¾å‘é€æ¶ˆæ¯

> âš¡ **ä¸“ä¸šæç¤º**: Arc ä½¿ç”¨é»˜è®¤è®¾ç½®ç«‹å³å·¥ä½œã€‚æ‚¨åŒæ—¶æ˜¯ç”¨æˆ·å’Œä¸­ç»§èŠ‚ç‚¹ï¼Œä¸ºæ‰€æœ‰äººåŠ å¼ºç½‘ç»œï¼

## âš™ï¸ é…ç½®

é€šè¿‡ `conf/default.toml` é…ç½®åº”ç”¨ç¨‹åºï¼š

```toml
[app]
name = "Arc"           # åº”ç”¨ç¨‹åºåç§°
lan_port = 1930        # ç›‘å¬ç«¯å£
wan_port = 2010        # ä¸­ç»§ç«¯å£

[room]
max_cached_msgs = 100  # æˆ¿é—´æ¶ˆæ¯ç¼“å­˜é™åˆ¶

[log]
level = "info"         # æ—¥å¿—çº§åˆ«
```

## ğŸ“š å…¥é—¨æŒ‡å—

### ğŸ  **åˆ›å»ºæ‚¨çš„ç¬¬ä¸€ä¸ªæˆ¿é—´**
1. **ğŸš€ å¯åŠ¨ Arc** å¹¶æ‰“å¼€ Web ç•Œé¢
2. **âœ¨ ç‚¹å‡»"åˆ›å»ºæˆ¿é—´"** - æ— éœ€æ³¨å†Œï¼
3. **ğŸ² è®¾ç½®æˆ¿é—´åç§°** å’Œå¯é€‰è®¿é—®è§„åˆ™
4. **ğŸ”— åˆ†äº«æˆ¿é—´é“¾æ¥** ç»™æœ‹å‹ï¼ˆå®‰å…¨åŠ å¯†ï¼‰
5. **ğŸ‰ å¼€å§‹èŠå¤©** ç«‹å³äº«å—ç«¯åˆ°ç«¯åŠ å¯†

### ğŸ” **åŒ¿åç§äººå¯¹è¯**
1. **ğŸ”‘ äº¤æ¢ KIDs**ï¼ˆå¯†ç å­¦æ ‡è¯†ç¬¦ï¼‰ä¸æ‚¨çš„è”ç³»äºº
2. **ğŸ“¨ å‘é€é‚€è¯·** é€šè¿‡å¤šä¸ªåŒ¿åä¸­ç»§è·¯ç”±
3. **âœ… æ¥å—è¿æ¥** å»ºç«‹å¤šè·³åŠ å¯†ä¸­ç»§é€šé“
4. **ğŸ’¬ åŒ¿åèŠå¤©** æ¶ˆæ¯é€šè¿‡éšæœºä¸­ç»§è·¯å¾„è·³è½¬
5. **ğŸ”¥ å¹½çµæ¨¡å¼** è·å¾—æœ€å¤§åŒ¿åæ€§ä¸æ‰©å±•ä¸­ç»§é“¾

### ğŸ“ **åŒ¿åæ–‡ä»¶ä¸­ç»§**
- **ğŸš€ é€Ÿåº¦**: æ™ºèƒ½ä¸­ç»§é€‰æ‹©å®ç°æœ€ä½³ä¼ è¾“æ€§èƒ½

```bash
# å¼€å‘ç¯å¢ƒè®¾ç½®
rustup component add clippy rustfmt
cargo test && cargo clippy && cargo fmt
```

### ğŸ› **å‘ç°äº† Bugï¼Ÿ**
åœ¨ [GitHub Issues](https://github.com/x-ira/arc-chat/issues) ä¸ŠæŠ¥å‘Š - æˆ‘ä»¬åœ¨ 24 å°æ—¶å†…ä¿®å¤å…³é”®å®‰å…¨é—®é¢˜ï¼

### ğŸ’¬ **éœ€è¦å¸®åŠ©ï¼Ÿ**
- ğŸ“š **æ–‡æ¡£**: `/docs` ä¸­çš„ç»¼åˆæŒ‡å—
- ğŸ‘¥ **ç¤¾åŒº**: åŠ å…¥æˆ‘ä»¬çš„å®‰å…¨ Arc æˆ¿é—´è·å¾—æ”¯æŒ
- ğŸ“§ **è”ç³»**: ä»…é€šè¿‡åŠ å¯†æ¸ é“è”ç³»

##  **Arc - éšç§é©å‘½**

> *"åœ¨ä¸€ä¸ªå¤„å¤„ç›‘æ§çš„ä¸–ç•Œé‡Œï¼ŒåŒ¿åä¸æ˜¯å¥¢ä¾ˆå“ - è€Œæ˜¯å¿…éœ€å“ã€‚"*

ğŸ”— **é“¾æ¥**
- ğŸŒ **æºä»£ç **: [GitHub ä»“åº“](https://github.com/x-ira/arc-chat)
- ğŸ“š **æ–‡æ¡£**: [æŠ€æœ¯æ–‡æ¡£](./docs/)
- ğŸ›¡ï¸ **å®‰å…¨å®¡è®¡**: [å®¡è®¡æŠ¥å‘Š](./docs/security/)
- ğŸ› **é—®é¢˜**: [Bug æŠ¥å‘Šå’ŒåŠŸèƒ½](https://github.com/x-ira/arc-chat/issues)


*Built with â¤ï¸ by the Arc Team*
