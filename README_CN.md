# 🛡️ Arc - **A**nonymous **R**elay **C**hat

**Arc** (**A**nonymous **R**elay **C**hat / **匿**名 **中**继 **聊**天) 是新一代**零信任**、**渐进式**通信平台，将您的**隐私**、**安全**和**性能**放在首位。基于 Rust 内存安全架构构建，由去中心化中继网络提供支持，Arc 通过智能消息路由提供军用级匿名性。

> 🎯 **使命**: 通过安全中继网络实现匿名通信 - 无服务器、无日志、无妥协。
> 
> 🔄 **工作原理**: 您的消息通过我们点对点网络中的多个加密跃点进行中继，确保完全匿名和抗审查性。

## 🚀 为什么选择 Arc？

### 🔐 **绝对匿名**
- **🔄 智能中继网络**: 消息通过多个加密中继节点路由
- **🌐 零中央权威**: 无服务器、无单点故障或监控
- **👤 密码学身份**: 匿名 KID 系统 - 您的真实身份保持隐藏
- **🕵️ 流量混淆**: 通过智能中继路由掩盖连接模式
- **🌍 DHT 发现**: 查找中继节点时不暴露您的位置或身份
- **🚫 无需注册**: 即刻开始中继和聊天 - 无需任何个人数据

### 🛡️ **军用级安全**
- **🔒 端到端加密**: XChaCha20-Poly1305 具备完美前向保密
- **🔑 ECDH 密钥交换**: 抗量子攻击的椭圆曲线密码学
- **✍️ 数字签名**: ECDSA 确保消息完整性和真实性
- **💾 加密存储**: ReDB 加密保护本地数据
- **🛡️ 内存安全**: Rust 防止缓冲区溢出和内存漏洞
- **⏱️ 防重放**: HMAC 时间戳防止消息重放攻击

### ⚡ **极速性能**
- **🦀 Rust 驱动**: 零成本抽象和原生性能
- **⚡ 异步架构**: 基于 Tokio 处理数千个连接
- **🚄 即时消息**: WebSocket 实现实时、低延迟通信
- **📱 轻量级**: 最少资源使用，在任何设备上流畅运行
- **🔄 高效中继**: 优化的路由算法实现快速消息传递

### 🎨 **轻松用户体验**
- **⚡ 一键启动**: 单命令部署，零配置
- **🌐 现代 Web UI**: 响应式 SolidJS 界面适配任何设备
- **🔧 开箱即用**: 默认设置完美运行
- **📁 拖放上传**: 无缝文件分享，单文件最大 20MB
- **🎯 直观设计**: 专注对话的简洁界面

## 🌟 核心功能

### 💬 **匿名通信模式**
- **🏛️ 公共中继房间**: 通过加密中继网络加入社区讨论
- **💬 私人中继聊天**: 通过多个中继路由的匿名一对一对话
- **🤫 悄悄话中继**: 通过安全中继路由在房间内发送私密消息
- **📎 匿名媒体中继**: 通过加密中继链分享文件（最大 20MB）
- **🔇 幽灵模式**: 具有最大中继跳数的超匿名临时会话

### 🌐 **智能中继网络**
- **🔄 多跳路由**: 消息通过多个中继节点跳转以实现最大匿名性
- **🔍 智能节点发现**: Mainline DHT 自动找到最佳中继路径
- **🏎️ 高吞吐量中继**: 每个节点可同时中继数千条消息
- **🌍 全球中继网格**: 全球中继节点网络确保任何地方的连接
- **📊 动态负载平衡**: 流量自动通过最快可用的中继路由
- **🛡️ 抗审查**: 中继网络适应被阻止或被攻击的节点

### 🛠️ **开发者和用户友好**
- **⚡ 零配置**: 默认设置完美运行
- **🌐 通用访问**: 基于 Web 的界面 - 无需安装应用程序
- **📱 跨平台**: Windows、macOS、Linux 和移动端就绪
- **🔄 实时同步**: 通过优化的 WebSocket 即时消息传递
- **🎛️ 可定制**: 为高级用户提供广泛的配置选项

## ⚡ 闪电部署

> 🎆 **2 分钟内开始使用！** Arc 专为即时部署而设计，零麻烦。

### 💻 系统要求
- **Rust**: 1.70+ （用于从源码构建）
- **操作系统**: Windows、macOS、Linux 或任何现代操作系统
- **内存**: 最少 50MB（极其轻量！）
- **存储**: 应用程序约 10MB

### 📬 快速安装

#### 选项 1: 一键部署 (推荐)
```bash
# 克隆并运行
git clone https://github.com/x-ira/arc-chat.git && cd arc
cargo run --release

🎉 打开 http://localhost:1930 开始聊天！
```

#### 选项 2: 生产构建
```bash
# 1. 克隆仓库
git clone https://github.com/x-ira/arc-chat.git
cd arc

# 2. 构建优化版本
cargo build --release

# 3. 启动 Arc
./target/release/arc

🌐 在 http://localhost:1930 访问您的安全聊天
```

#### 选项 3: Docker（隔离）
```bash
# 拉取并运行（可用时）
docker run -p 1930:1930 arc-chat

# 或自己构建
docker build -t arc-chat .
docker run -p 1930:1930 arc-chat
```

### 🌐 首次使用
1. **🚀 启动**: 运行上述命令启动您的中继节点
2. **🌍 连接**: 在浏览器中打开 `http://localhost:1930`
3. **📧 创建身份**: 您的匿名密码学身份自动生成
4. **🔄 加入网络**: 您的节点自动加入全球中继网络
5. **💬 开始聊天**: 立即通过加密中继链发送消息

> ⚡ **专业提示**: Arc 使用默认设置立即工作。您同时是用户和中继节点，为所有人加强网络！

## ⚙️ 配置

通过 `conf/default.toml` 配置应用程序：

```toml
[app]
name = "Arc"           # 应用程序名称
lan_port = 1930        # 监听端口
wan_port = 2010        # 中继端口

[room]
max_cached_msgs = 100  # 房间消息缓存限制

[log]
level = "info"         # 日志级别
```

## 🏧 高性能架构

> 🚀 **为速度而生**: Arc 利用尖端技术实现最大性能和安全性

### ⚡ **闪电般快速的中继引擎**
- **🦀 Rust 核心**: 零成本抽象实现超快消息中继处理
- **🌐 Axum 框架**: 针对高吞吐量中继操作优化的异步 Web 框架
- **🚄 Tokio 运行时**: 同时处理数千个并发中继连接
- **💾 加密 ReDB**: 超快本地存储，用于中继路由表和消息队列
- **🌐 Mainline DHT**: 用于发现和维护中继节点网络的成熟 P2P 协议
- **🎨 MessagePack**: 超高效序列化最小化中继带宽开销

### 🚀 **极速前端**
- **⚡ SolidJS**: 具有最小开销的超响应式 UI
- **💻 WebAssembly**: 浏览器中的原生速度密码学
- **📎 IndexedDB**: 安全的客户端数据持久化
- **🔄 WebSocket**: 具有自动重连的全双工实时通信
- **🎯 Vite**: 闪电般的开发和优化构建

### 🔒 **密码学武器库**
- **🔐 AES-GCM**: 行业标准认证加密（256 位密钥）
- **⚡ ChaCha20-Poly1305**: 移动设备高速流密码
- **🔑 ECDH P-256**: 抗量子密钥交换协议
- **✍️ ECDSA**: 消息真实性数字签名
- **🛡️ HMAC-SHA256**: 消息认证和完整性验证
- **🔄 完美前向保密**: 每个会话使用唯一临时密钥

## 🛡️ 防弹安全模型

### ✅ **我们中和的威胁**
- 🚫 **网络监控**: 端到端加密使窃听变得不可能
- 🚫 **服务器突袭**: 无服务器 = 无数据被查封或攻击
- 🚫 **身份追踪**: 密码学匿名保护您的真实身份
- 🚫 **消息重放**: 基于时间戳的 HMAC 防止旧消息攻击
- 🚫 **冒充**: 数字签名保证发送者真实性
- 🚫 **元数据挖掘**: 最小元数据暴露，甚至连接模式也被隐藏
- 🚫 **后门**: 开源代码 = 完全透明和社区审计

### 🎯 **隐私设计**
- **🔒 零知识**: 即使 Arc 开发者也无法解密您的消息
- **📊 最少数据**: 仅收集必要的 P2P 路由信息（无个人数据）
- **🔑 本地密钥**: 您的私钥从不离开您的设备
- **🔥 临时模式**: 可选的匿名会话带自动清理
- **🚫 无日志**: 网络节点不存储对话历史
- **🔄 前向保密**: 即使密钥被攻击，过去的消息仍然安全

## 📚 入门指南

### 🏠 **创建您的第一个房间**
1. **🚀 启动 Arc** 并打开 Web 界面
2. **✨ 点击"创建房间"** - 无需注册！
3. **🎲 设置房间名称** 和可选访问规则
4. **🔗 分享房间链接** 给朋友（安全加密）
5. **🎉 开始聊天** 立即享受端到端加密

### 🔐 **匿名私人对话**
1. **🔑 交换 KIDs**（密码学标识符）与您的联系人
2. **📨 发送邀请** 通过多个匿名中继路由
3. **✅ 接受连接** 建立多跳加密中继通道
4. **💬 匿名聊天** 消息通过随机中继路径跳转
5. **🔥 幽灵模式** 获得最大匿名性与扩展中继链

### 📁 **匿名文件中继**
- **🖼️ 图片**: PNG、JPG、GIF、WebP - 通过加密链中继
- **🎤 音频**: 语音消息压缩并通过匿名中继路由
- **📄 文档**: 任何文件类型最大 20MB 通过多跳中继
- **🛡️ 安全**: 文件加密并分割到多个中继节点
- **🚀 速度**: 智能中继选择实现最佳传输性能

## 🤝 加入革命

> 🎆 **帮助我们构建私人通信的未来！** 每一份贡献都很重要。

### 🚀 **贡献**
1. **🍴 分叉** 项目并创建您的功能分支
2. **✨ 代码** 充满激情 - 遵循 Rust 最佳实践
3. **🧪 测试** 用 `cargo test` 彻底测试
4. **🎨 格式化** 用 `cargo fmt` 格式化代码
5. **📝 提交 PR** 附上详细描述

```bash
# 开发环境设置
rustup component add clippy rustfmt
cargo test && cargo clippy && cargo fmt
```

### 🐛 **发现了 Bug？**
在 [GitHub Issues](https://github.com/x-ira/arc-chat/issues) 上报告 - 我们在 24 小时内修复关键安全问题！

### 💬 **需要帮助？**
- 📚 **文档**: `/docs` 中的综合指南
- 👥 **社区**: 加入我们的安全 Arc 房间获得支持
- 📧 **联系**: 仅通过加密渠道联系

---

## 📄 法律和许可

**许可证**: [MIT 许可证](LICENSE) - 自由使用、修改、分发！

### ⚠️ **负责任使用**
- ✅ 仅将 Arc 用于合法通信
- ✅ 尊重当地法律法规
- ✅ 考虑对关键用例进行安全审计
- 🚫 这是免费软件，不提供保证

---

## 🎆 **Arc - 隐私革命**

> *"在一个监控的世界里，匿名不是奢侈品 - 而是必需品。"*

🔗 **链接**
- 🌍 **源代码**: [GitHub 仓库](https://github.com/x-ira/arc-chat)
- 📚 **文档**: [技术文档](./docs/)
- 🛡️ **安全审计**: [审计报告](./docs/security/)
- 🐛 **问题**: [Bug 报告和功能](https://github.com/x-ira/arc-chat/issues)

---

<div align="center">

### 🎆 **由 🦀 Rust 和 ❤️ 隐私倡导者构建**

**Arc** - ***A**nonymous **R**elay **C**hat* - *通过智能中继网络夺回数字隐私*

🛡️ **匿名** • 🔄 **中继** • 💬 **聊天** • 🎆 **免费**

</div>

# Arc - 匿名安全聊天应用 🛡️

Arc 是一个基于 Rust 开发的分布式、匿名、端到端加密的聊天应用。通过先进的密码学技术和 P2P 网络，为用户提供极致的隐私保护和通信安全。

## 🔒 核心安全特性

### 端到端加密 (E2EE)
- **多重加密算法**：支持 AES-GCM 和 ChaCha20-Poly1305 流密码
- **密钥交换**：使用椭圆曲线迪菲-赫尔曼 (ECDH) 协议安全交换密钥
- **数字签名**：ECDSA 数字签名确保消息完整性和身份认证
- **前向保密**：每次会话使用独立密钥，确保历史消息安全

### 匿名性保护
- **无中心服务器**：基于 DHT (分布式哈希表) 的 P2P 架构
- **身份隐私**：用户通过加密的公钥标识符 (KID) 进行识别
- **网络匿名**：支持去中心化节点发现，无需暴露真实身份
- **元数据保护**：最小化可追踪的通信元数据

### 数据安全
- **本地存储加密**：所有敏感数据在本地加密存储 (ReDB)
- **内存安全**：Rust 语言特性提供内存安全保障
- **零日志策略**：服务端不记录用户通信内容
- **安全认证**：基于 HMAC 的时间戳签名防止重放攻击

## ⚡ 功能特色

### 💬 多种通信模式
- **公开房间**：支持多人群聊，实时消息同步
- **私密聊天**：点对点加密通信，完全匿名
- **悄悄话**：房间内定向私密消息
- **多媒体支持**：安全的图片、语音文件传输

### 🌐 分布式架构
- **P2P 网络**：无需中央服务器，抗审查能力强
- **节点自动发现**：通过 DHT 网络自动发现在线节点
- **负载均衡**：分布式架构天然支持高并发
- **容错机制**：单点故障不影响整体网络运行

### 🛠️ 易用性设计
- **一键启动**：简单的命令行启动，无需复杂配置
- **现代化 Web 界面**：基于 SolidJS 的响应式前端
- **跨平台支持**：支持 Windows、macOS、Linux 等主流操作系统
- **实时通信**：基于 WebSocket 的实时消息推送

## 🚀 快速开始

### 系统要求
- Rust 1.70+ 
- Node.js 18+ (用于前端构建)
- 操作系统：Windows、macOS、Linux

### 安装运行

```bash
# 1. 克隆项目
git clone https://github.com/yourusername/arc.git
cd arc

# 2. 构建 Rust 后端
cargo build --release

# 3. 构建前端 (可选，如果需要自定义界面)
cd web
npm install
npm run build
cd ..

# 4. 启动应用
./target/release/arc

# 应用将在 http://localhost:1930 启动
```

### Docker 部署

```bash
# 构建镜像
docker build -t arc-chat .

# 运行容器
docker run -p 1930:1930 arc-chat
```

## ⚙️ 配置说明

应用通过 `conf/default.toml` 文件进行配置：

```toml
[app]
name = "Arc"           # 应用名称
port = 1930           # 监听端口

[room]
max_cached_msgs = 100  # 房间消息缓存上限

[log]
level = "info"         # 日志级别
```

### 高级配置

```toml
# 启用用户初始化 (仅开发环境)
init_users = false

# 安全设置
default.pass_hash = "your_hash_here"  # 默认密码哈希
access_token_life = 604800000         # 访问令牌有效期(7天)
request_timeout = 5000                # 请求超时时间(毫秒)
```

## 🔧 技术架构

### 后端技术栈
- **Rust** - 系统级安全和性能
- **Axum** - 现代异步 Web 框架  
- **Tokio** - 高性能异步运行时
- **ReDB** - 嵌入式数据库，安全存储
- **Mainline DHT** - 分布式网络发现

### 前端技术栈
- **SolidJS** - 响应式 Web 框架
- **WebAssembly** - 客户端密码学运算
- **IndexedDB** - 浏览器本地存储
- **WebSocket** - 实时双向通信

### 密码学组件
- **AES-GCM / ChaCha20-Poly1305** - 对称加密
- **ECDH P-256** - 密钥交换
- **ECDSA** - 数字签名
- **HMAC-SHA256** - 消息认证

## 🛡️ 安全保证

### 威胁模型防护
- ✅ **网络监听**：端到端加密防止传输窃听
- ✅ **服务器入侵**：去中心化架构无单点风险  
- ✅ **身份追踪**：匿名标识符保护真实身份
- ✅ **重放攻击**：时间戳签名防止消息重放
- ✅ **中间人攻击**：数字签名验证身份真实性

### 隐私保护
- **零知识原则**：服务端无法解读用户消息内容
- **最小化数据收集**：只收集必要的网络路由信息
- **本地密钥管理**：私钥从不离开用户设备
- **临时会话**：支持无痕聊天模式

## 📖 使用指南

### 创建房间
1. 启动应用后访问 Web 界面
2. 点击"创建房间"按钮
3. 设置房间名称和访问权限
4. 分享房间链接给其他用户

### 私密聊天
1. 获取对方的公钥标识符 (KID)
2. 发送加密邀请
3. 对方确认后建立端到端加密通道
4. 开始匿名安全通信

### 发送文件
- 支持图片：PNG、JPG、GIF 等格式
- 支持语音：自动压缩和加密传输
- 文件大小限制：单文件不超过 20MB
- 自动病毒扫描和安全检查

## 🤝 贡献指南

我们欢迎社区贡献！请遵循以下步骤：

1. **Fork 项目**并创建特性分支
2. **编写测试**确保代码质量
3. **遵循代码规范**使用 `cargo fmt` 格式化
4. **提交 Pull Request**并详细说明改动

### 开发环境设置

```bash
# 安装开发依赖
rustup component add clippy rustfmt

# 运行测试
cargo test

# 代码检查
cargo clippy

# 格式化代码  
cargo fmt
```

## 📄 开源协议

本项目采用 [MIT License](LICENSE) 开源协议，允许自由使用、修改和分发。

## ⚠️ 免责声明

- 本软件仅供学习和合法用途使用
- 用户需遵守当地法律法规
- 开发者不承担任何使用风险和法律责任
- 强烈建议在重要通信前进行安全审计

## 🔗 相关资源

- [项目主页](https://github.com/yourusername/arc)
- [技术文档](./docs/technical.md)
- [安全审计报告](./docs/security-audit.md)
- [问题反馈](https://github.com/yourusername/arc/issues)

---

**Arc** - 让隐私通信回归本质 🚀

*Built with ❤️ by the Arc Team*
